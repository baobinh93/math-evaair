<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Toan Evaair</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
      integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="container">
      <div class="row mt-5">
        <div class="col-0 col-md-1"></div>
        <div class="col-md-6 col-12 bg-light">
          <form
            name="inlineRadioOptions"
            class="selectForm bg-warning pl-5"
            id="selectForm"
          >
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="inlineRadioOptions"
                id="inlineRadio1"
                value="5"
                checked
                onclick="renderNum()"
              />
              <label
                class="form-check-label font-weight-bold"
                for="inlineRadio1"
                >5 số</label
              >
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="inlineRadioOptions"
                id="inlineRadio2"
                value="6"
                onclick="renderNum()"
              />
              <label
                class="form-check-label font-weight-bold"
                for="inlineRadio2"
                >6 số</label
              >
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="inlineRadioOptions"
                id="inlineRadio1"
                value="7"
                onclick="renderNum()"
              />
              <label
                class="form-check-label font-weight-bold"
                for="inlineRadio1"
                >7 số</label
              >
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="inlineRadioOptions"
                id="inlineRadio1"
                value="8"
                onclick="renderNum()"
              />
              <label
                class="form-check-label font-weight-bold"
                for="inlineRadio1"
                >8 số</label
              >
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="inlineRadioOptions"
                id="inlineRadio1"
                value="9"
                onclick="renderNum()"
              />
              <label
                class="form-check-label font-weight-bold"
                for="inlineRadio1"
                >9 số</label
              >
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="inlineRadioOptions"
                id="inlineRadio1"
                value="10"
                onclick="renderNum()"
              />
              <label
                class="form-check-label font-weight-bold"
                for="inlineRadio1"
                >10 số</label
              >
            </div>
          </form>
          <div class="row">
            <div class="col-3 mt-auto mb-auto">
              <h3>+</h3>
            </div>
            <div class="col-9">
              <ul class="list-group" id="numList">
                <!-- <li class="list-group-item">An item</li>
                <li class="list-group-item">A second item</li>
                <li class="list-group-item">A third item</li>
                <li class="list-group-item">A fourth item</li>
                <li class="list-group-item">And a fifth one</li> -->
              </ul>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <div class="result" id="result"></div>
          <div class="userResult">
            <input id="userResult" type="number" placeholder="Kết quả..." />
            <div class="checkResult">
              <div class="wrapper">
                <svg
                  id="rightIcon"
                  class="checkmark d-none"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 52 52"
                >
                  <circle
                    class="checkmark__circle"
                    cx="26"
                    cy="26"
                    r="25"
                    fill="none"
                  />
                  <path
                    class="checkmark__check"
                    fill="none"
                    d="M14.1 27.2l7.1 7.2 16.7-16.8"
                  />
                </svg>
                <svg
                  id="wrongIcon"
                  class="checkmarkWrong d-none"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 52 52"
                >
                  <circle
                    class="checkmark_circle"
                    cx="26"
                    cy="26"
                    r="25"
                    fill="none"
                  />
                  <path
                    class="checkmark_check"
                    fill="none"
                    d="M14.1 14.1l23.8 23.8 m0,-23.8 l-23.8,23.8"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div
            class="btn-group-vertical mt-3 mt-m-0 flex-row flex-md-column justify-content-center w-100"
          >
            <button
              id="newBtn"
              type="button"
              class="btn btn-info mb-3"
              onclick="renderNum()"
            >
              Tạo mới
            </button>
            <button
              type="button"
              id="resultBtn"
              class="btn btn-success ml-5 ml-md-0"
              onclick="getResult()"
            >
              Xem Kết Quả
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      let userResultEl = document.getElementById("userResult");
      let rightIconEL = document.getElementById("rightIcon");
      let wrongIconEL = document.getElementById("wrongIcon");

      function getRandomNum(_min, _max) {
        let a = 0;
        //a = Math.floor(Math.random() * (99999999 - 10000000) + 10000000);
        let arrTest = [];
        do {
          a = Math.floor(Math.random() * (99999999 - 10000000) + 10000000);
          arrTest.push(a);
        } while (delNum(a) > 1);

        // console.log(delNum(a));
        //console.log(arrTest);
        // console.log("a");
        return a;
      }
      function delNum(a) {
        let b = a;
        let arrFromString = Array.from(b.toString());
        let i = 0;
        arrFromString.forEach((num) => {
          parseInt(num) >= 8 && i++;
        });
        //  console.log("i", i);
        return i;
      }
      let arrNumEl = document.getElementById("numList");
      let sumResultEl = document.getElementById("result");
      let arrNumlist = [];
      let sumResult = 0;
      function renderNum() {
        arrNumlist = [];
        sumResult = 0;
        let formSelectValue =
          document.getElementById("selectForm").inlineRadioOptions.value;
        // console.log(formSelectValue.inlineRadioOptions.value);
        for (i = 1; i <= formSelectValue; i++) {
          let num = getRandomNum();

          arrNumlist.push(num);
          let contentHTML = ``;
          arrNumlist.forEach((num) => {
            let arrFormNum = Array.from(num.toString());
            let contentSpan = ``;
            arrFormNum.forEach((num) => {
              contentSpan += `<span>${num}</span>`;
            });

            let content = ` <li class="list-group-item">${contentSpan}</li>`;

            contentHTML += content;
          });

          arrNumEl.innerHTML = contentHTML;
          sumResultEl.innerHTML = ``;
          //  console.log(contentHTML);
        }
        rightIconEL.classList.add("d-none");
        wrongIconEL.classList.add("d-none");
        rightIconEL.classList.remove("d-block");
        wrongIconEL.classList.remove("d-block");
        userResultEl.value = "";
      }

      function getResult() {
        sumResult = 0;
        arrNumlist.forEach((num) => {
          sumResult += num;
        });
        let contentHTML = `
        <h2> ${sumResult} </h2>
        `;
        //    / console.log(sumResultEl);
        sumResultEl.innerHTML = contentHTML;

        if (sumResult == userResultEl.value) {
          rightIconEL.classList.add("d-block");
          wrongIconEL.classList.add("d-none");
          rightIconEL.classList.remove("d-none");
          wrongIconEL.classList.remove("d-block");
        } else {
          rightIconEL.classList.add("d-none");
          wrongIconEL.classList.add("d-block");
          rightIconEL.classList.remove("d-block");
          wrongIconEL.classList.remove("d-none");
        }
        console.log(userResultEl);
      }
      renderNum();
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
      integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
